{% extends "base.html" %}

{% block title %}Gallery - VidSnapAI{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/gallery.css') }}">
{% endblock %}

{% block content %}
<div class="container gallery-container">

    <h1 class="gallery-title">Reel Gallery</h1>

    {% if reels|length == 0 %}
        <div class="empty-state">
            ðŸŽ¬ No reels yet â€” create one to see it here.
        </div>
    {% endif %}

    <div class="gallery-grid">
        {% for reel in reels %}
            <video src="/static/reels/{{ reel }}" controls preload="metadata"></video>
        {% endfor %}
    </div>

</div>
{% endblock %}


{% block extra_js %}
<script>
/* Smart auto-refresh â€” only if reels list is empty */
const videos = document.querySelectorAll("video");

if (videos.length === 0) {
    console.log("No reels yet â€” auto refreshing...");
    setTimeout(() => location.reload(), 4000);
}
</script>
{% endblock %}
